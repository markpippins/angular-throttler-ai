@if(isLoading()) {
  <div class="absolute inset-0 flex items-center justify-center text-[rgb(var(--color-text-subtle))]">
    <p>Thinking...</p>
  </div>
} @else if (searchError(); as error) {
  <div class="text-center py-8 text-[rgb(var(--color-danger-text))] bg-red-50 dark:bg-red-900/20 p-4 rounded-md">
    <h3 class="font-semibold text-lg">An error occurred</h3>
    <p class="mt-2 text-sm text-[rgb(var(--color-text-muted))]">{{ error }}</p>
  </div>
} @else if (result(); as res) {
  <div class="relative">
    <button (click)="onSave(res)" title="Save response" class="absolute -top-1 right-0 p-1 rounded-full text-[rgb(var(--color-text-subtle))] hover:bg-[rgb(var(--color-surface-hover))] hover:text-[rgb(var(--color-accent-text))]">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-3.13L5 18V4z" />
      </svg>
    </button>
    <pre class="text-sm text-[rgb(var(--color-text-base))] whitespace-pre-wrap font-sans">{{ res }}</pre>
  </div>
} @else {
  <div class="h-full flex flex-col items-center justify-center text-center text-[rgb(var(--color-text-subtle))] p-4">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
      <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
    </svg>
    <p class="mt-2 font-semibold">No results found</p>
    <p>Ask a question or give a prompt to get started.</p>
  </div>
}
